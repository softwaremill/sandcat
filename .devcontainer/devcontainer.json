{
	"name": "Rust",
	"dockerComposeFile": "compose.yml",
	"service": "rust",
	"workspaceFolder": "/workspaces/sandcat",
	// VS Code forwards host credential sockets into containers by default.
	// Clear them so container code cannot use host SSH keys, GPG signing,
	// or VS Code's git credential helpers to authenticate as the host user.
	"remoteEnv": {
		"SSH_AUTH_SOCK": "",
		"GPG_AGENT_INFO": "",
		"GIT_ASKPASS": ""
	},
	"customizations": {
		"vscode": {
			"extensions": [
				"anthropic.claude-code",
				"github.vscode-pull-request-github",
				"rust-lang.rust-analyzer",
				"vadimcn.vscode-lldb"
			],
			"settings": {
				// Prevent VS Code from copying host .gitconfig into the
				// container, which can leak credential helpers and signing
				// key references.
				"dev.containers.copyGitConfig": false,
				// Prompt before trusting workspace settings, which container
				// code could modify via the bind-mounted project folder.
				"security.workspace.trust.enabled": true,
				// Block container extensions from opening a host-side
				// terminal, which would bypass the WireGuard tunnel entirely.
				// For maximum protection, also set this in your host user
				// settings (workspace settings could theoretically override it).
				"terminal.integrated.allowLocalTerminal": false,
				// Sandcat provides the security boundary (network isolation,
				// secret substitution, iptables kill-switch), so permission
				// prompts inside the container add friction without meaningful
				// security benefit. Remove these if you prefer interactive
				// permission approval.
				"claudeCode.allowDangerouslySkipPermissions": true,
				"claudeCode.initialPermissionMode": "bypassPermissions",
				// Optional: override the default Claude model.
				"claudeCode.selectedModel": "opus"
			}
		}
	}
}