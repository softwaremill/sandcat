FROM debian:trixie-slim

#   ca-certificates    - system CA store, needed for update-ca-certificates
#   curl, git, gh, vim - for manual testing of the proxy setup
RUN apt-get update \
    && apt-get install -y --no-install-recommends ca-certificates curl git gh vim \
    && rm -rf /var/lib/apt/lists/*

RUN curl -fsSL https://claude.ai/install.sh | bash
ENV PATH="/root/.local/bin:$PATH"

COPY scripts/container-entrypoint.sh /usr/local/bin/container-entrypoint.sh
RUN chmod +x /usr/local/bin/container-entrypoint.sh

ENTRYPOINT ["/usr/local/bin/container-entrypoint.sh"]
